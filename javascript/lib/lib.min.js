(function(b){function d(a,c,b){this.elem=a;this.id=b;this.init(a,c)}d.prototype.init=function(a,c){this.options=b.extend({frequency:1,fade_time:null,wait_image:!1,waiting_image:"img/loading.gif",minimum_wait:1},c);this.options.fade_time*=1E3;this.options.frequency*=1E3;this.options.minimum_wait*=1E3;this.obj={timer_id:null};this.create()};d.prototype.create=function(){var a=this;a.obj.timer_id=setInterval(function(){var c=b(window).scrollTop()+b(window).height();if(b(a.elem).position().top+parseInt(b(a.elem).height())<
c){var e=b(document.createElement("img"));if(a.options.wait_image){a.addToDom(e);e.attr("src",a.options.waiting_image);var d=setInterval(function(){a.loadImage(e);clearInterval(d)},a.options.minimum_wait)}else a.loadImage(e),a.addToDom(e);clearInterval(a.obj.timer_id)}},a.options.frequency)};d.prototype.loadImage=function(a){var c=this;null!=c.options.fade_time&&(a.hide(),a.load(function(){b(this).fadeIn(c.options.fade_time)}));var e=b(c.elem).attr("href"),d=b(c.elem).attr("id"),f=b(c.elem).attr("rel");
a.attr("src",e);a.attr("id",d);a.attr("alt",f)};d.prototype.addToDom=function(a){b(this.elem).after(a);b(this.elem).remove()};jQuery(document).ready(function(a){jQuery.fn.inf_img=function(a){var b=jQuery(this).selector;return this.each(function(){jQuery.data(this,b,new d(this,a,b))})}})})(jQuery);

